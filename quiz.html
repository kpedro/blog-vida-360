<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz - Vida 360º</title>
    <link rel="icon" type="image/svg+xml" href="assets/images/favicon.svg">
    <link rel="stylesheet" href="assets/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        .quiz-page { max-width: 640px; margin: 0 auto; padding: var(--spacing-lg) 0; }
        .quiz-page h1 { color: var(--blue-primary); text-align: center; margin-bottom: var(--spacing-sm); font-size: 1.35rem; }
        .quiz-page .subtitle { text-align: center; color: var(--gray-600); margin-bottom: var(--spacing-xl); }
        .quiz-card { background: var(--white); border-radius: var(--radius-lg); box-shadow: var(--shadow-md); padding: var(--spacing-xl); margin-bottom: var(--spacing-lg); }
        .quiz-progress { height: 6px; background: var(--gray-200); border-radius: 3px; margin-bottom: var(--spacing-lg); overflow: hidden; }
        .quiz-progress-bar { height: 100%; background: var(--blue-secondary); border-radius: 3px; transition: width 0.3s ease; width: 0%; }
        .quiz-step { display: none; }
        .quiz-step.active { display: block; animation: fadeIn 0.3s ease; }
        .quiz-step h2 { color: var(--blue-primary); font-size: 1.25rem; margin-bottom: var(--spacing-md); }
        .quiz-options { list-style: none; padding: 0; margin: 0; }
        .quiz-options li { margin-bottom: var(--spacing-sm); }
        .quiz-options label { display: flex; align-items: center; gap: var(--spacing-sm); padding: var(--spacing-md); border: 2px solid var(--gray-200); border-radius: var(--radius); cursor: pointer; transition: var(--transition); }
        .quiz-options label:hover { border-color: var(--blue-secondary); background: var(--gray-50); }
        .quiz-options input:checked + label { border-color: var(--blue-secondary); background: rgba(52, 152, 219, 0.08); }
        .quiz-options input { position: absolute; opacity: 0; }
        .quiz-nav { display: flex; justify-content: space-between; margin-top: var(--spacing-lg); flex-wrap: wrap; gap: var(--spacing-sm); }
        .quiz-btn { padding: var(--spacing-sm) var(--spacing-lg); border-radius: var(--radius); font-weight: 600; cursor: pointer; border: none; font-size: 1rem; }
        .quiz-btn-prev { background: var(--gray-200); color: var(--gray-900); }
        .quiz-btn-next { background: var(--blue-secondary); color: var(--text-color); }
        .quiz-result { display: none; text-align: center; }
        .quiz-result.active { display: block; }
        .quiz-result h2 { color: var(--blue-primary); margin-bottom: var(--spacing-md); }
        .quiz-result .result-message { font-size: 1.1rem; line-height: 1.7; margin-bottom: var(--spacing-lg); color: var(--gray-900); }
        .quiz-result .cta-whatsapp { display: inline-flex; align-items: center; gap: 8px; background: #25D366; color: #fff; padding: var(--spacing-md) var(--spacing-lg); border-radius: var(--radius); text-decoration: none; font-weight: 600; transition: var(--transition); }
        .quiz-result .quiz-rotina-cta { margin-top: var(--spacing-lg); margin-bottom: var(--spacing-sm); font-size: 1rem; line-height: 1.6; color: var(--gray-900); }
        .quiz-result .cta-rotina { background: var(--blue-primary); margin-top: 0; }
        .quiz-result .cta-rotina:hover { background: var(--blue-secondary); }
        .quiz-result .disclaimer { font-size: var(--font-size-sm); color: var(--gray-600); margin-top: var(--spacing-xl); }
        .quiz-loading, .quiz-error { text-align: center; padding: var(--spacing-xl); color: var(--gray-600); }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo"><a href="index.html" style="color: inherit; text-decoration: none;">Vida 360º</a></div>
            <nav>
                <ul>
                    <li><a href="index.html">Início</a></li>
                    <li><a href="artigos.html">Artigos</a></li>
                    <li><a href="protocolos.html">Protocolos</a></li>
                    <li><a href="ebooks.html">Ebooks</a></li>
                    <li><a href="quiz.html" aria-current="page">Quiz</a></li>
                    <li><a href="sobre.html">Sobre</a></li>
                    <li><a href="contato.html">Contato</a></li>
                    <li><a href="politica.html">Política</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <div class="quiz-page">
            <div id="quiz-loading" class="quiz-loading">Carregando quiz...</div>
            <div id="quiz-error" class="quiz-error" style="display:none;">
                <p>Quiz não encontrado.</p>
                <a href="quiz-suplementacao.html">Fazer o quiz de suplementação →</a>
            </div>
            <div id="quiz-wrap" style="display:none;">
                <h1 id="quiz-title"></h1>
                <p class="subtitle" id="quiz-description"></p>
                <div id="quiz-container" class="quiz-card">
                    <div class="quiz-progress"><div id="quiz-progress-bar" class="quiz-progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div></div>
                    <form id="quiz-form"></form>
                    <div id="quiz-result" class="quiz-result">
                        <h2 id="result-title"></h2>
                        <p id="result-message" class="result-message"></p>
                        <a id="cta-whatsapp" class="cta-whatsapp" href="#" target="_blank" rel="noopener noreferrer">Enviar resultado no WhatsApp</a>
                        <p class="quiz-rotina-cta">Se você deseja organizar uma rotina personalizada de suporte metabólico com base nas suas respostas, envie a palavra <strong>ROTINA</strong> no WhatsApp.</p>
                        <a id="cta-rotina-whatsapp" class="cta-whatsapp cta-rotina" href="https://wa.me/5592994314016?text=ROTINA" target="_blank" rel="noopener noreferrer">Enviar ROTINA no WhatsApp</a>
                        <p class="disclaimer">Este quiz é educativo e não substitui acompanhamento médico ou nutricional.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script src="assets/js/chat-widget.js"></script>
    <footer><p>© 2025 Vida 360º. Todos os direitos reservados.</p></footer>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>window.VITE_SUPABASE_URL = window.VITE_SUPABASE_URL || 'https://qrjmvqedoypxmnvfdetg.supabase.co'; window.VITE_SUPABASE_ANON_KEY = window.VITE_SUPABASE_ANON_KEY || 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFyam12cWVkb3lweG1udmZkZXRnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NDc3MjYsImV4cCI6MjA3OTIyMzcyNn0.QjhD8GQsNiNX58EvVUJvf9seNYGR6ruLvpF1lHpSX8E';</script>
    <script src="assets/js/supabase.js"></script>
    <script src="assets/js/quiz-dynamic.js"></script>
</body>
</html>
